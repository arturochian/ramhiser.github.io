
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>John Ramey</title>
  <meta name="author" content="John Ramey">

  
  <meta name="description" content="As I have mentioned previously, I have begun reading Statistical Methods in Bioinformatics by Ewens and Grant and working selected problems for each &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ramhiser.com/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="John Ramey" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<script type="text/javascript"
        src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-33406921-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">John Ramey</a></h1>
  
    <h2>Statistics, Machine Learning, and R.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:ramhiser.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="http://twitter.com/ramhiser">@ramhiser</a></li>
  <li><a href="/about/">About</a></li>
  <li><a href="https://github.com/ramey/vitae/raw/master/cv-John_Ramey.pdf">CV</a></li>
  <li><a href="/projects/">Projects</a></li>
  <li><a href="/research/">Research</a></li>
  <li><a href="/blogroll/">Blogroll</a></li>
  <li><a href="/blog/archives/">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/14/chapter-2-solutions-statistical-methods-in-bioinformatics/">Chapter 2 Solutions - Statistical Methods in Bioinformatics</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-14T20:42:00-07:00" pubdate data-updated="true">Aug 14<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As I have mentioned previously, I have begun reading <a href="http://amzn.to/PiXCiU">Statistical Methods in Bioinformatics by Ewens and Grant</a> and working selected problems for each chapter. In this post, I will give my solution to two problems. The first problem is pretty straightforward.</p>

<h2 id="problem-220">Problem 2.20</h2>
<blockquote>
  <p>Suppose that a parent of genetic type <em>Mm</em> has three children. Then the parent transmits the <em>M</em> gene to each child with probability 1/2, and <strong>the genes that are transmitted to each of the three children are independent</strong>. Let <script type="math/tex">I_1 = 1</script> if children 1 and 2 had the same gene transmitted, and <script type="math/tex">I_1 = 0</script> otherwise. Similarly, let <script type="math/tex">I_2 = 1</script> if children 1 and 3 had the same gene transmitted, <script type="math/tex">I_2 = 0</script> otherwhise, and let <script type="math/tex">I_3 = 1</script> if children 2 and 3 had the same gene transmitted, <script type="math/tex">I_3 = 0</script> otherwise.</p>
</blockquote>

<p>The question first asks us to how that the three random variables are pairwise independent but not independent. The pairwise independence comes directly from the bolded phrase in the problem statement. Now, to show that the three random variables are not independent, denote by <script type="math/tex">p_j</script> the probability that <script type="math/tex">I_j = 1</script>, <script type="math/tex">j = 1, 2, 3</script>. If we had independence, then the following statement would be true:</p>

<script type="math/tex; mode=display">
P(I_1 = 1, I_2 = 1, I_3 = 0) = p_1 p_2 (1 - p_3).
</script>

<p>However, notice that the event in the lefthand side can never happen because if <script type="math/tex">I_1 = 1</script> and <script type="math/tex">I_2 = 1</script>, then <script type="math/tex">I_3</script> must be 1. Hence, the lefthand side must equal 0, while the righthand side equals 1/8. Therefore, the three random variables are not independent.</p>

<p>The question also asks us to discuss why the variance of <script type="math/tex">I_1 + I_2 + I_3</script> is equal to the sum of the individual variances. Often, this is only the case of the random variables are independent. But because the random variables here are pairwise independent, the covariances must be 0. Thus, the equality must hold.</p>

<h2 id="problems-223---227">Problems 2.23 - 2.27</h2>

<p>While I worked the above problem because of its emphasis on genetics, the following set of problems is much more fun in terms of the mathematics because of its usage of approximations.</p>

<blockquote>
  <p>For <script type="math/tex">i = 1, \ldots, n</script>, let <script type="math/tex">X_i</script> be the <script type="math/tex">i</script>th lifetime of certain cellular proteins until degradation. We assume that <script type="math/tex">X_1, \ldots, X_n</script> are iid random variables, each of which is <a href="http://en.wikipedia.org/wiki/Exponential_distribution">exponentially distributed</a> with rate parameter <script type="math/tex">\lambda > 0</script>. Furthermore, let <script type="math/tex">n = 2m + 1</script> be an odd integer.</p>
</blockquote>

<p>This set of questions is concerned with the mean and variance of the sample median, <script type="math/tex">X_{(m + 1)}</script>, where <script type="math/tex">X_{(i)}</script> denotes the <script type="math/tex">i</script>th <a href="http://en.wikipedia.org/wiki/Order_statistic">order statistic</a>. First, note that the mean and variance of the minimum value <script type="math/tex">X_{(1)}</script> are <script type="math/tex">1/(n\lambda)</script> and <script type="math/tex">1/(n\lambda)^2</script>, respectively. From the <a href="http://en.wikipedia.org/wiki/Memorylessness#The_memoryless_distributions_are_the_exponential_distributions">memoryless property</a> of the <a href="http://en.wikipedia.org/wiki/Exponential_distribution">exponential distribution</a>, the mean value of the time until the next protein degrades is independent of the previous. However, there are now <script type="math/tex">n - 1</script> proteins remaining. Thus, the mean and variance of <script type="math/tex">X_{(2)}</script> are <script type="math/tex">1/(n\lambda) + 1/((n-1)\lambda)</script> and <script type="math/tex">1/(n\lambda)^2 + 1/((n-1)\lambda)^2</script>, respectively. Continuining in this manner, we have</p>

<script type="math/tex; mode=display">
E[X_{(m + 1)}] = \frac{1}{(2m + 1)\lambda} + \frac{1}{(2m)\lambda} + \ldots + \frac{1}{(m + 1)\lambda}
</script>

<p>and</p>

<script type="math/tex; mode=display">
Var[X_{(m + 1)}] = \frac{1}{(2m + 1)^2\lambda^2} + \frac{1}{(2m)^2\lambda^2} + \ldots + \frac{1}{(m + 1)^2\lambda^2}.
</script>

<p>Now, we wish to approximate the mean with a much simpler formula. First, from (B.7) in Appendix B, we have</p>

<script type="math/tex; mode=display">
\sum_{k=1}^n \approx \log n + \gamma,
</script>

<p>where <script type="math/tex">\gamma</script> is <a href="http://en.wikipedia.org/wiki/Euler%E2%80%93Mascheroni_constant">Euler’s constant</a>. Then, we can write the expected sample median as</p>

<script type="math/tex; mode=display">% <![CDATA[

E[X_{(m + 1)}] &= \frac{1}{\lambda} \sum_{k=m+1}^{2m+1} \frac{1}{k}\\
&= \frac{1}{\lambda} \left(\sum_{k=1}^{2m+1} \frac{1}{k} - \sum_{k=1}^{m} \frac{1}{k} \right)\\
&\approx \frac{1}{\lambda} \left( \log (2m + 1) + \gamma - \log m - \gamma)\\
&= \frac{1}{\lambda} \log \left(2 + \frac{1}{m}).
 %]]></script>

<p>Hence, as <script type="math/tex">n \rightarrow \infty</script>, this approximation goes to <script type="math/tex"> \frac{\log 2}{\lambda}</script>, which is the median of an exponentially distributed random variable. Specifically, the median is the solution to <script type="math/tex">F_X(x) = 1/2</script>, where <script type="math/tex">F_X</script> denotes the <a href="http://en.wikipedia.org/wiki/Cumulative_distribution_function">cumulative distribution function</a> of the random variable <script type="math/tex">X</script>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/14/textbook-statistical-methods-in-bioinformatics/">Textbook - Statistical Methods in Bioinformatics</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-14T20:17:00-07:00" pubdate data-updated="true">Aug 14<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As part of my effort to acquaint myself more with biology, bioinformatics, and statistical genetics, I am trying to find as many resources as I can that provide a solid foundation. For instance, I am wading through <a href="http://amzn.to/Mx5jCm">Molecular Biology of the Cell</a> at a pace of about 10-15 pages per day – this takes nearly an hour every day.</p>

<p>I am also going through <a href="http://amzn.to/PiXCiU">Statistical Methods in Bioinformatics by Ewens and Grant</a> and working selected problems for each chapter. My intention is to post my solutions to these chapter exercises. Thus far, I have made it through the first three chapters, and I will begin posting my solutions soon. I am interested particularly in problems regarding statistical topics with which I have little-to-no experience and also topics where I lack intuition regarding the biological applications.</p>

<p>Here is a thumbnail of the book:</p>

<p><a href="http://amzn.to/PiXCiU"><img src="http://ecx.images-amazon.com/images/I/41UT3fUB%2BKL._BO2,204,203,200_PIsitb-sticker-arrow-click,TopRight,35,-76_AA300_SH20_OU01_.jpg" alt="Statistical Methods in Bioinformatics Textbook" /></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/11/now-that-we-live-in-seattle/">Now That We Live in Seattle</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-11T10:29:00-07:00" pubdate data-updated="true">Aug 11<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It has been just a few weeks since <a href="http://ramhiserfamily.wordpress.com/">my wife, my son, and I</a> moved to Seattle so that I could begin my postdoc at <a href="http://www.fhcrc.org/en.html">The Hutch</a>. Now that we have been here a short time and are settled, we intend to start exploring Seattle, doing typical touristy things as well as non-touristy activities that only Seattlites would do. My wife purchased a detailed guide to Seattle that lists numerous activities, restaurants, scenery, etc. that would take months (years?) to complete. I prefer word of mouth though, so I asked some coworkers for recommendations. Here’s what they gave me:</p>

<ul>
  <li><a href="http://www.spaceneedle.com/">The Space Needle</a></li>
  <li><a href="http://www.pikeplacemarket.org/">Pike Place Market</a></li>
  <li><a href="http://ridetheslut.com/">Ride The Slut</a></li>
  <li><a href="http://www.chandlerscrabhouse.com/">Chandler’s Crabhouse</a></li>
  <li><a href="http://www.seattleartmuseum.org/">Seattle Art Museum</a></li>
  <li><a href="http://www.seattle.gov/parks/environment/discovery.htm">Discovery Park</a></li>
  <li>Walk around the <a href="http://www.myballard.com/">Ballard neighborhood</a> – in particular, the Northwest Market.</li>
  <li><a href="http://depts.washington.edu/uwbg/gardens/wpa.shtml">The Arboretum</a> near <a href="http://www.washington.edu/">UW</a></li>
  <li>Take a ferry to <a href="http://en.wikipedia.org/wiki/Bainbridge_Island,_Washington">Bainbridge Island</a></li>
  <li>The new <a href="http://seattlegreatwheel.com/">ferris wheel</a> in downtown Seattle</li>
  <li><a href="http://www.3pubs.com/Latona.html">Latona Pub</a></li>
</ul>

<p>My coworkers recommended parking at <a href="http://www.fhcrc.org/en.html">The Hutch</a> and riding <a href="http://ridetheslut.com/">The Slut</a> to <a href="http://www.westlakecenter.com/">Westlake Center</a> and then walking to <a href="http://www.pikeplacemarket.org/">Pike Place</a> – avoids traffic. Also, they recommended thta we combine <a href="http://www.seattle.gov/parks/environment/discovery.htm">Discovery Park</a> and Ballard into one day. They said the view of Seattle from the ferry when returning from <a href="http://en.wikipedia.org/wiki/Bainbridge_Island,_Washington">Bainbridge Island</a> is breathtaking.</p>

<p>My wife and I like to hike, so I also asked my coworkers for recommendations. Overwhelmingly, they said these two places:</p>

<ul>
  <li><a href="http://www.wta.org/go-hiking/hikes/snow-lake-1/">Snow Lake</a></li>
  <li><a href="http://www.wta.org/go-hiking/seasonal-hikes/hikes-of-the-week/middle-fork-snoqualmie-river">Middle Fork</a></li>
</ul>

<p>Any other recommendations? In particular, are there any restaurants that you’d recommend?</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/04/and-now-i-blog-again/">And Now I Blog Again</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-04T10:19:00-07:00" pubdate data-updated="true">Aug 4<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One of my <a href="http://ramhiser.com/blog/2012/01/09/goals-for-2012/">goals for 2012</a> has been to blog more. Much more. When I first set this goal, I had great aspirations of posting frequently. However, I
had a Ph.D. to complete, and quite frankly, it demanded much higher priority. Now that I have submitted my dissertation and completed my Ph.D. requirements, I have several half-finished posts that will
appear soon. Also, since I have made the switch to <a href="http://octopress.org/">Octopress</a>, I will be relocating selected posts from my previous Wordpress blog.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/09/goals-for-2012/">Goals for 2012</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-09T08:18:00-08:00" pubdate data-updated="true">Jan 9<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have never been one to set New Year’s resolutions. Personally, they instill a dangerous personal freedom that often yield naive, subconscious mentalities, such as I can do anything I want until December 31, and I will change abruptly the next day. However, my Ph.D. adviser has shown me the importance of setting goals in all things that I wish to accomplish as well as envisioning the finale to an arduous journey like a small child (read “John Ramey”) that pictures the waning warmth of fresh chocolate chip cookies smeared on his face. My adviser has always encouraged short-term and long-term goals but never required them. As I recently found out, my employer does. In addition, these goals are reviewed at the end of the fiscal year so that employees are realistic and held accountable.</p>

<p>Now that I must list these formally at work, I have decided to post a number of career and personal goals here in order to hold myself accountable at the end of 2012 with the implicit assumption that <a href="http://en.wikipedia.org/wiki/2012_phenomenon">the world does not end</a>. So, one year from now, if we are still here (<strong>chuckle</strong>), I will review my goal-completion success.</p>

<ul>
  <li>Read to my son (almost) nightly.</li>
  <li>Hear my son laugh (almost) nightly.</li>
  <li>Take my wife out for a date night each week.</li>
  <li>Treat my wife to a significant outing each month.</li>
  <li>Finish dissertation.</li>
  <li>Successfully defend dissertation.</li>
  <li>Submit 4-6 articles for publication.</li>
  <li>Submit at least 3 R packages to <a href="http://cran.r-project.org/">CRAN</a>.</li>
  <li>Attend at least three conferences.</li>
  <li>Make at least two conference presentations.</li>
  <li>Find/maintain employment.</li>
  <li>Construct detailed plan and outline for my textbook.</li>
  <li>Take a real vacation.</li>
  <li>Run a half marathon. (I will consider this a success if I have signed up for an early 2013 race.)</li>
  <li>Transition my personal website from Wordpress to Octopress.</li>
  <li>Blog more.</li>
  <li>Check Tweets and email twice daily at a scheduled time.</li>
  <li>Spend time with my extended family.</li>
  <li>Read the literature at a scheduled time.</li>
  <li>Finish reading Izenman’s Multivariate text.</li>
  <li>Read Lehmann’s <a href="http://www.amazon.com/Reminiscences-Statistician-Company-Kept-ebook/dp/B0016Q4P26/ref=wl_it_dp_o_npd?ie=UTF8&amp;coliid=I3T6NZ0PE0490O&amp;colid=2LV0B8J7GGR69">Reminiscences of a Statistician: The Company I Kept</a>.</li>
  <li>Read Ewens and Grant’s bioinformatics text.</li>
  <li>Read Bishop’s PRML text.</li>
  <li>Read Gaussian Processes for Machine Learning.</li>
  <li>Read Barber’s <a href="http://web4.cs.ucl.ac.uk/staff/D.Barber/pmwiki/pmwiki.php?n=Main.Textbook">Bayesian Reasoning and Machine Learning</a>.</li>
  <li>Read a significant portion of Devroye et al.’s Probabilistic Theory of Pattern Recognition text.</li>
  <li>Reread Robert’s The Bayesian Choice.</li>
  <li>Read Jaynes’ Probability Theory text.</li>
  <li>Read Berger’s Decision Theory text.</li>
  <li>Watch Boyd’s Convex Optimization lectures.</li>
  <li>Read the Boyd Convex Optimization text.</li>
  <li>Finish reading Reamde.</li>
  <li>Read Rothfuss’ The Name of the Wind.</li>
  <li>Become more proficient at debugging in R.</li>
</ul>

<p>As I have assuredly not remembered the goals that I have verbally set, this list may change over the next few days.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/07/when-i-was-29-dot-dot-dot/">When I Was 29&#8230;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-07T22:03:00-08:00" pubdate data-updated="true">Jan 7<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Today was my 29th birthday, and I kept things simple: I ate with my wife and my newborn son at a local eatery. Later, my wife cooked steaks for dinner. For the most part, I took the day off in that I did not work on my dissertation. But I did spent much of the day tinkering with my <a href="http://octopress.org/">Octopress</a> installation – more about that later.</p>

<p>The best part of the day was hearing my son laugh again and again. Yes, there were some messy diapers, but those are easily forgotten when my son gets the giggles.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/12/04/steve-jobs-2005-stanford-commencement-address/">Steve Jobs&#8217; 2005 Stanford Commencement Address</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-12-04T13:57:00-08:00" pubdate data-updated="true">Dec 4<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Given that there are almost 13 million views of Steve Jobs’ commencement address, I am certain that I missed this video when it went viral. I am glad that I did not see it until now because I may not have appreciated his words of wisdom. And although there are numerous quotes that I could list, I think my favorites are closely related to a few words of wisdom that my grandmother told me when I was younger.</p>

<blockquote><p>Don&#8217;t settle.</p><p>Stay hungry. Stay foolish.</p><p>You’ve got to find what you love, and that is as true for work as is for your lovers. Your work is gonna fill a large part of your life, and the only way to truly be satisfied is to do what you believe is great work, and the only way to do great work is to love what you do.</p><footer><strong>Steve Jobs</strong> <cite><a href="http://youtu.be/UF8uR6Z6KLc">youtu.be/UF8uR6Z6KLc/&hellip;</a></cite></footer></blockquote>

<p>It’s good to be reminded of things like this once in a while.</p>

<div class="embed-video-container"><iframe src="http://www.youtube.com/embed/UF8uR6Z6KLc "></iframe></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/11/25/pseudo-random-vs-random-numbers-in-r/">Pseudo-Random vs. Random Numbers in R</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-11-25T03:08:00-08:00" pubdate data-updated="true">Nov 25<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Earlier, I found <a href="http://www.boallen.com/random-numbers.html">an interesting post from Bo Allen</a> on <a href="http://en.wikipedia.org/wiki/Pseudorandom_number_generator">pseudo-random</a> vs <a href="http://en.wikipedia.org/wiki/Random_number">random numbers</a>, where the author uses a simple bitmap (<a href="http://en.wikipedia.org/wiki/Heat_map">heat map</a>) to show that the <strong>rand</strong> function in <a href="http://www.php.net/">PHP</a> has a systematic pattern and compares these to <strong>truly random</strong> numbers obtained from <a href="http://www.random.org/">random.org</a>. The post’s results suggest that pseudo-randomness in <a href="http://www.php.net/">PHP</a> is faulty and, in general, should not be underestimated in practice. Of course, the findings should not be too surprising, as there is a large body of literature on the subtleties, philosophies, and implications of the <strong>pseudo</strong> aspect of the most common approaches to random number generation. However, it is silly that <a href="http://www.php.net/">PHP</a>’s <a href="http://en.wikipedia.org/wiki/Random_number_generation">random number generator (RNG)</a> displays such an obvious pattern nowadays because there are several decent, well-studied pseudo-RNG algorithms available as well as numerous tests for randomness.  For a good introduction to <a href="http://en.wikipedia.org/wiki/Random_number_generation">RNG</a>, I recommend <a href="http://www.johndcook.com/blog/2010/12/06/how-to-test-a-random-number-generator-2/">John D. Cook’s discussion on testing a random number generator</a>.</p>

<p>Now, I would never use <a href="http://www.php.net/">PHP</a> for any (serious) statistical analysis, partly due to my fondness for <a href="http://www.r-project.org/">R</a>, nor do I doubt the practicality of the <a href="http://en.wikipedia.org/wiki/Random_number_generation">RNG</a> in <a href="http://www.r-project.org/">R</a>. But I was curious to see what would happen. So, created equivalent plots in <a href="http://www.r-project.org/">R</a> to see if a <strong>rand</strong> equivalent would exhibit a systematic pattern like in <a href="http://www.php.net/">PHP</a>, even if less severe. Also, for comparison, I chose to use <a href="http://cran.r-project.org/web/packages/random/index.html">the <strong>random</strong> package</a>, from <a href="http://dirk.eddelbuettel.com/">Dirk Eddelbuettel</a>, to draw <strong>truly random</strong> numbers from <a href="http://www.random.org/">random.org</a>. Until today, I had only heard of <a href="http://cran.r-project.org/web/packages/random/index.html">the <strong>random</strong> package</a> but had never used it.</p>

<p>I have provided the function <strong>rand_bit_matrix</strong>, which requires the number of rows and columns to display in the plotted bitmap. To create the bitmaps, I used <a href="http://cran.r-project.org/web/packages/pixmap/index.html">the <strong>pixmap</strong> package</a> rather than <a href="http://had.co.nz/ggplot2/">the much-loved <strong>ggplot2</strong> package</a>, simply because of how easy it was for me to create the plots. (If you are concerned that I have lost the faith, please note that I am aware of the awesomeness of <a href="http://had.co.nz/ggplot2/"><strong>ggplot2</strong></a> and <a href="http://ramhiser.com/blog/2011/06/05/conways-game-of-life-in-r-with-ggplot2-and-animation/">its ability</a> <a href="http://learnr.wordpress.com/2010/01/26/ggplot2-quick-heatmap-plotting/">to create heat maps</a>.)</p>

<p>It is important to note that there were two challenges that I encountered when using drawing <strong>truly random numbers</strong>.</p>

<ol>
  <li>Only 10,000 numbers can be drawn at once from <a href="http://www.random.org/">random.org</a>. (This is denoted as <strong>max_n_random.org</strong> in the function below.)</li>
  <li>There is a daily limit to the number of times the <a href="http://www.random.org/">random.org</a> service will provide numbers.</li>
</ol>

<p>To overcome the first challenge, I split the total number of bits into separate calls, if necessary. This approach, however, increases our number of requests, and after too many requests, you will see the error: <strong>random.org suggests to wait until tomorrow</strong>. Currently, I do not know the exact number of allowed requests or if the amount of requested random numbers is a factor, but looking back, I would guess about 20ish large requests is too much.</p>

<p>Below, I have plotted 500 x 500 bitmaps based on the <em>random</em> bits from both of <a href="http://www.r-project.org/">R</a> and <a href="http://www.random.org/">random.org</a>. As far as I can tell, no apparent patterns are visible in either plot, but from the graphics alone, our conclusions are limited to ruling out obvious systematic patterns, which were exhibited from the <a href="http://www.php.net/">PHP</a> code. I am unsure if the <a href="http://www.php.net/">PHP</a> folks formally tested their <a href="http://en.wikipedia.org/wiki/Random_number_generation">RNG</a> algorithms for <strong>randomness</strong>, but even if they did, the code in both <a href="http://www.r-project.org/">R</a> and <a href="http://www.php.net/">PHP</a> is straightforward and provides a quick eyeball test. Armed with similar plots alone, the <a href="http://www.php.net/">PHP</a> devs could have sought for better <a href="http://en.wikipedia.org/wiki/Random_number_generation">RNG</a> algorithms — perhaps, borrowed those from <a href="http://www.r-project.org/">R</a>.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
</pre></td><td class="code"><pre><code class="r"><span class="line">library<span class="p">(</span><span class="s">&quot;plyr&quot;</span><span class="p">)</span>
</span><span class="line">library<span class="p">(</span><span class="s">&quot;pixmap&quot;</span><span class="p">)</span>
</span><span class="line">library<span class="p">(</span><span class="s">&quot;random&quot;</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">rand_bit_matrix <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>num_rows <span class="o">=</span> <span class="m">500</span><span class="p">,</span> num_cols <span class="o">=</span> <span class="m">500</span><span class="p">,</span> max_n_random.org <span class="o">=</span> <span class="m">10000</span><span class="p">,</span>
</span><span class="line">    seed <span class="o">=</span> <span class="kc">NULL</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="c1"># I have copied the following function directly from help(&#39;integer&#39;).</span>
</span><span class="line">    is.wholenumber <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>x<span class="p">,</span> tol <span class="o">=</span> <span class="m">.</span>Machine<span class="p">$</span>double.eps<span class="o">^</span><span class="m">0.5</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        abs<span class="p">(</span>x <span class="o">-</span> round<span class="p">(</span>x<span class="p">))</span> <span class="o">&lt;</span> tol
</span><span class="line">    <span class="p">}</span>
</span><span class="line">
</span><span class="line">    <span class="c1"># The number of bits to draw at &#39;random&#39;.</span>
</span><span class="line">    n <span class="o">&lt;-</span> num_rows <span class="o">*</span> num_cols
</span><span class="line">    <span class="kr">if</span> <span class="p">(</span>n <span class="o">&lt;=</span> <span class="m">0</span> <span class="o">||</span> !is.wholenumber<span class="p">(</span>n<span class="p">))</span> <span class="p">{</span>
</span><span class="line">        stop<span class="p">(</span><span class="s">&quot;The number of bits &#39;n&#39; should be a natural number.&quot;</span><span class="p">)</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">
</span><span class="line">    <span class="kr">if</span> <span class="p">(</span>!is.null<span class="p">(</span>seed<span class="p">))</span> <span class="p">{</span>
</span><span class="line">        set.seed<span class="p">(</span>seed<span class="p">)</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">
</span><span class="line">    <span class="c1"># Create a matrix of pseudo-random bits.</span>
</span><span class="line">    bits_R <span class="o">&lt;-</span> replicate<span class="p">(</span>n <span class="o">=</span> num_cols<span class="p">,</span> sample<span class="p">(</span>c<span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">),</span> size <span class="o">=</span> num_rows<span class="p">,</span> replace <span class="o">=</span> <span class="kc">TRUE</span><span class="p">))</span>
</span><span class="line">
</span><span class="line">    <span class="c1"># Because random.org will only return a maximum of 10,000 numbers at a</span>
</span><span class="line">    <span class="c1"># time, we break this up into several calls.</span>
</span><span class="line">    seq_n_random.org <span class="o">&lt;-</span> rep.int<span class="p">(</span>x <span class="o">=</span> max_n_random.org<span class="p">,</span> times <span class="o">=</span> n<span class="o">%/%</span>max_n_random.org<span class="p">)</span>
</span><span class="line">    <span class="kr">if</span> <span class="p">(</span>n<span class="o">%%</span>max_n_random.org <span class="o">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        seq_n_random.org <span class="o">&lt;-</span> c<span class="p">(</span>seq_n_random.org<span class="p">,</span> n<span class="o">%%</span>max_n_random.org<span class="p">)</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">    bits_random.org <span class="o">&lt;-</span> lapply<span class="p">(</span>seq_n_random.org<span class="p">,</span> <span class="kr">function</span><span class="p">(</span>n<span class="p">)</span> <span class="p">{</span>
</span><span class="line">        try_default<span class="p">(</span>randomNumbers<span class="p">(</span>n <span class="o">=</span> n<span class="p">,</span> min <span class="o">=</span> <span class="m">0</span><span class="p">,</span> max <span class="o">=</span> <span class="m">1</span><span class="p">,</span> col <span class="o">=</span> <span class="m">1</span><span class="p">),</span> <span class="kc">NA</span><span class="p">)</span>
</span><span class="line">    <span class="p">})</span>
</span><span class="line">
</span><span class="line">    bits_random.org <span class="o">&lt;-</span> matrix<span class="p">(</span>unlist<span class="p">(</span>bits_random.org<span class="p">),</span> nrow <span class="o">=</span> num_rows<span class="p">,</span> ncol <span class="o">=</span> num_cols<span class="p">)</span>
</span><span class="line">
</span><span class="line">    list<span class="p">(</span>R <span class="o">=</span> bits_R<span class="p">,</span> random.org <span class="o">=</span> bits_random.org<span class="p">)</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line">bit_mats <span class="o">&lt;-</span> rand_bit_matrix<span class="p">(</span>num_rows <span class="o">=</span> <span class="m">500</span><span class="p">,</span> num_cols <span class="o">=</span> <span class="m">500</span><span class="p">,</span> seed <span class="o">=</span> <span class="m">42</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">with<span class="p">(</span>bit_mats<span class="p">,</span> plot<span class="p">(</span>pixmapGrey<span class="p">(</span>data <span class="o">=</span> R<span class="p">,</span> nrow <span class="o">=</span> nrow<span class="p">(</span>R<span class="p">),</span> ncol <span class="o">=</span> ncol<span class="p">(</span>R<span class="p">)),</span> main <span class="o">=</span> <span class="s">&quot;R&quot;</span><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><img src="http://i.imgur.com/hZd2N.png" alt="plot of chunk code" /> </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="r"><span class="line">with<span class="p">(</span>bit_mats<span class="p">,</span> plot<span class="p">(</span>pixmapGrey<span class="p">(</span>data <span class="o">=</span> random.org<span class="p">,</span> nrow <span class="o">=</span> nrow<span class="p">(</span>random.org<span class="p">),</span>
</span><span class="line">    ncol <span class="o">=</span> ncol<span class="p">(</span>random.org<span class="p">)),</span> main <span class="o">=</span> <span class="s">&quot;random.org&quot;</span><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><img src="http://i.imgur.com/E59lB.png" alt="plot of chunk code" /> </p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/06/12/listing-of-statistics-and-machine-learning-conferences/">Listing of Statistics and Machine Learning Conferences</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-06-12T17:20:00-07:00" pubdate data-updated="true">Jun 12<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Occasionally, I will query Google with “statistics conferences”, “machine learning conferences” or “pattern recognition conferences” and the like. But often, it is difficult to obtain anything
meaningful other than the conferences of which I’m already aware (such as JSM, ICML, some IEEE conferences). Today, I found <a href="http://www.wikicfp.com/cfp/">WikiCFP</a>, which is a <strong>A Wiki for Calls for
Papers</strong>. This seems to be what I needed. In particular, the following are very useful to me:</p>

<ul>
  <li><a href="http://www.wikicfp.com/cfp/call?conference=machine%20learning">Machine Learning on WikiCFP</a></li>
  <li><a href="http://www.wikicfp.com/cfp/call?conference=statistics">Statistics on WikiCFP</a></li>
</ul>

<p>It seems limited for statistics though, as JSM is not even listed.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/06/05/conways-game-of-life-in-r-with-ggplot2-and-animation/">Conway&#8217;s Game of Life in R With Ggplot2 and Animation</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-06-05T19:04:00-07:00" pubdate data-updated="true">Jun 5<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In undergrad I had a computer science professor that piqued my interest in applied mathematics, beginning with <a href="http://en.wikipedia.org/wiki/Conway%27s_Game_of_Life">Conway’s Game of Life</a>. At first, the Game of Life (not the board game) appears to be quite simple — perhaps, too simple — but it has been widely explored and is useful for modeling systems over time. It has been forever since I wrote my first version of this in C++, and I happily report that there will be no nonsense here.</p>

<p>The basic idea is to start with a grid of cells, where each cell is either a zero (dead) or a one (alive). We are interested in watching the population behavior over time to see if the population dies off, has some sort of equilibrium, etc. <a href="http://en.wikipedia.org/wiki/John_Horton_Conway">John Conway</a> studied many possible ways to examine population behaviors and ultimately decided on the following rules, which we apply to each cell for the current tick (or generation).</p>

<ol>
  <li>Any live cell with fewer than two live neighbours dies, as if caused by under-population.</li>
  <li>Any live cell with two or three live neighbours lives on to the next generation.</li>
  <li>Any live cell with more than three live neighbours dies, as if by overcrowding.</li>
  <li>Any dead cell with exactly three live neighbours becomes a live cell, as if by reproduction</li>
</ol>

<p>Although there are <a href="http://www.statisticsblog.com/2010/05/game-of-life-in-r/">other versions</a> of this in R, I decided to give it a shot myself. I am not going to provide a walkthrough of the code as I may normally do, but the code should be simple enough to understand for one proficient in R. It may have been unnecessary to implement this with the foreach package, but I wanted to get some more familiarity with foreach, so I did.</p>

<p>The set of grids is stored as a list, where each element is a matrix of zeros and ones. Each matrix is then converted to an image with ggplot2, and the sequence of images is exported as a MP4 video with the <a href="http://cran.r-project.org/web/packages/animation/index.html">animation package</a>.</p>

<p>Let me know if you improve on my code any. I’m always interested in learning how to do things better.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
</pre></td><td class="code"><pre><code class="r"><span class="line">library<span class="p">(</span><span class="s">&#39;foreach&#39;</span><span class="p">)</span>
</span><span class="line">library<span class="p">(</span><span class="s">&#39;ggplot2&#39;</span><span class="p">)</span>
</span><span class="line">library<span class="p">(</span><span class="s">&#39;animation&#39;</span><span class="p">)</span>
</span><span class="line">library<span class="p">(</span><span class="s">&#39;reshape2&#39;</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1"># Determines how many neighboring cells around the (j,k)th cell have living organisms.</span>
</span><span class="line"><span class="c1"># The conditionals are used to check if we are at a boundary of the grid.</span>
</span><span class="line">how_many_neighbors <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>grid<span class="p">,</span> j<span class="p">,</span> k<span class="p">)</span> <span class="p">{</span>
</span><span class="line">  size <span class="o">&lt;-</span> nrow<span class="p">(</span>grid<span class="p">)</span>
</span><span class="line">  count <span class="o">&lt;-</span> <span class="m">0</span>
</span><span class="line">  <span class="kr">if</span><span class="p">(</span>j <span class="o">&gt;</span> <span class="m">1</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    count <span class="o">&lt;-</span> count <span class="o">+</span> grid<span class="p">[</span>j<span class="o">-</span><span class="m">1</span><span class="p">,</span> k<span class="p">]</span>
</span><span class="line">    <span class="kr">if</span> <span class="p">(</span>k <span class="o">&gt;</span> <span class="m">1</span><span class="p">)</span> count <span class="o">&lt;-</span> count <span class="o">+</span> grid<span class="p">[</span>j<span class="o">-</span><span class="m">1</span><span class="p">,</span> k<span class="o">-</span><span class="m">1</span><span class="p">]</span>
</span><span class="line">    <span class="kr">if</span> <span class="p">(</span>k <span class="o">&lt;</span> size<span class="p">)</span> count <span class="o">&lt;-</span> count <span class="o">+</span> grid<span class="p">[</span>j<span class="o">-</span><span class="m">1</span><span class="p">,</span> k<span class="o">+</span><span class="m">1</span><span class="p">]</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="kr">if</span><span class="p">(</span>j <span class="o">&lt;</span> size<span class="p">)</span> <span class="p">{</span>
</span><span class="line">    count <span class="o">&lt;-</span> count <span class="o">+</span> grid<span class="p">[</span>j<span class="o">+</span><span class="m">1</span><span class="p">,</span>k<span class="p">]</span>
</span><span class="line">    <span class="kr">if</span> <span class="p">(</span>k <span class="o">&gt;</span> <span class="m">1</span><span class="p">)</span> count <span class="o">&lt;-</span> count <span class="o">+</span> grid<span class="p">[</span>j<span class="o">+</span><span class="m">1</span><span class="p">,</span> k<span class="o">-</span><span class="m">1</span><span class="p">]</span>
</span><span class="line">    <span class="kr">if</span> <span class="p">(</span>k <span class="o">&lt;</span> size<span class="p">)</span> count <span class="o">&lt;-</span> count <span class="o">+</span> grid<span class="p">[</span>j<span class="o">+</span><span class="m">1</span><span class="p">,</span> k<span class="o">+</span><span class="m">1</span><span class="p">]</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="kr">if</span><span class="p">(</span>k <span class="o">&gt;</span> <span class="m">1</span><span class="p">)</span> count <span class="o">&lt;-</span> count <span class="o">+</span> grid<span class="p">[</span>j<span class="p">,</span> k<span class="o">-</span><span class="m">1</span><span class="p">]</span>
</span><span class="line">  <span class="kr">if</span><span class="p">(</span>k <span class="o">&lt;</span> size<span class="p">)</span> count <span class="o">&lt;-</span> count <span class="o">+</span> grid<span class="p">[</span>j<span class="p">,</span> k<span class="o">+</span><span class="m">1</span><span class="p">]</span>
</span><span class="line">  count
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="c1"># Creates a list of matrices, each of which is an iteration of the Game of Life.</span>
</span><span class="line"><span class="c1"># Arguments</span>
</span><span class="line"><span class="c1"># size: the edge length of the square</span>
</span><span class="line"><span class="c1"># prob: a vector (of length 2) that generates cells with probability of death and life, respectively</span>
</span><span class="line"><span class="c1"># returns a list of grids (matrices)</span>
</span><span class="line">game_of_life <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>size <span class="o">=</span> <span class="m">10</span><span class="p">,</span> num_reps <span class="o">=</span> <span class="m">50</span><span class="p">,</span> prob <span class="o">=</span> c<span class="p">(</span><span class="m">0.5</span><span class="p">,</span> <span class="m">0.5</span><span class="p">))</span> <span class="p">{</span>
</span><span class="line">  grid <span class="o">&lt;-</span> list<span class="p">()</span>
</span><span class="line">  grid<span class="p">[[</span><span class="m">1</span><span class="p">]]</span> <span class="o">&lt;-</span> replicate<span class="p">(</span>size<span class="p">,</span> sample<span class="p">(</span>c<span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">),</span> size<span class="p">,</span> replace <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> prob <span class="o">=</span> prob<span class="p">))</span>
</span><span class="line">  dev_null <span class="o">&lt;-</span> foreach<span class="p">(</span>i <span class="o">=</span> seq_len<span class="p">(</span>num_reps<span class="p">)</span> <span class="o">+</span> <span class="m">1</span><span class="p">)</span> <span class="o">%</span>do<span class="o">%</span> <span class="p">{</span>
</span><span class="line">    grid<span class="p">[[</span>i<span class="p">]]</span> <span class="o">&lt;-</span> grid<span class="p">[[</span>i<span class="o">-</span><span class="m">1</span><span class="p">]]</span>
</span><span class="line">    foreach<span class="p">(</span>j <span class="o">=</span> seq_len<span class="p">(</span>size<span class="p">))</span> <span class="o">%</span>:<span class="o">%</span>
</span><span class="line">      foreach<span class="p">(</span>k <span class="o">=</span> seq_len<span class="p">(</span>size<span class="p">))</span> <span class="o">%</span>do<span class="o">%</span> <span class="p">{</span>
</span><span class="line">
</span><span class="line">        <span class="c1"># Apply game rules.</span>
</span><span class="line">        num_neighbors <span class="o">&lt;-</span> how_many_neighbors<span class="p">(</span>grid<span class="p">[[</span>i<span class="p">]],</span> j<span class="p">,</span> k<span class="p">)</span>
</span><span class="line">        alive <span class="o">&lt;-</span> grid<span class="p">[[</span>i<span class="p">]][</span>j<span class="p">,</span>k<span class="p">]</span> <span class="o">==</span> <span class="m">1</span>
</span><span class="line">        <span class="kr">if</span><span class="p">(</span>alive <span class="o">&amp;&amp;</span> num_neighbors <span class="o">&lt;=</span> <span class="m">1</span><span class="p">)</span> grid<span class="p">[[</span>i<span class="p">]][</span>j<span class="p">,</span>k<span class="p">]</span> <span class="o">&lt;-</span> <span class="m">0</span>
</span><span class="line">        <span class="kr">if</span><span class="p">(</span>alive <span class="o">&amp;&amp;</span> num_neighbors <span class="o">&gt;=</span> <span class="m">4</span><span class="p">)</span> grid<span class="p">[[</span>i<span class="p">]][</span>j<span class="p">,</span>k<span class="p">]</span> <span class="o">&lt;-</span> <span class="m">0</span>
</span><span class="line">        <span class="kr">if</span><span class="p">(</span>!alive <span class="o">&amp;&amp;</span> num_neighbors <span class="o">==</span> <span class="m">3</span><span class="p">)</span> grid<span class="p">[[</span>i<span class="p">]][</span>j<span class="p">,</span>k<span class="p">]</span> <span class="o">&lt;-</span> <span class="m">1</span>
</span><span class="line">      <span class="p">}</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  grid
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="c1"># Converts the current grid (matrix) to a ggplot2 image</span>
</span><span class="line">grid_to_ggplot <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>grid<span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="c1"># Permutes the matrix so that melt labels this correctly.</span>
</span><span class="line">  grid <span class="o">&lt;-</span> grid<span class="p">[</span>seq.int<span class="p">(</span>nrow<span class="p">(</span>grid<span class="p">),</span> <span class="m">1</span><span class="p">),</span> <span class="p">]</span>
</span><span class="line">  grid <span class="o">&lt;-</span> melt<span class="p">(</span>grid<span class="p">)</span>
</span><span class="line">  grid<span class="p">$</span>value <span class="o">&lt;-</span> factor<span class="p">(</span>ifelse<span class="p">(</span>grid<span class="p">$</span>value<span class="p">,</span> <span class="s">&quot;Alive&quot;</span><span class="p">,</span> <span class="s">&quot;Dead&quot;</span><span class="p">))</span>
</span><span class="line">  p <span class="o">&lt;-</span> ggplot<span class="p">(</span>grid<span class="p">,</span> aes<span class="p">(</span>x<span class="o">=</span>Var1<span class="p">,</span> y<span class="o">=</span>Var2<span class="p">,</span> z <span class="o">=</span> value<span class="p">,</span> color <span class="o">=</span> value<span class="p">))</span>
</span><span class="line">  p <span class="o">&lt;-</span> p <span class="o">+</span> geom_tile<span class="p">(</span>aes<span class="p">(</span>fill <span class="o">=</span> value<span class="p">))</span>
</span><span class="line">  p  <span class="o">+</span> scale_fill_manual<span class="p">(</span>values <span class="o">=</span> c<span class="p">(</span><span class="s">&quot;Dead&quot;</span> <span class="o">=</span> <span class="s">&quot;white&quot;</span><span class="p">,</span> <span class="s">&quot;Alive&quot;</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">))</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>As an example, I have created a 50-by-50 grid with a 10% chance that its initial values will be alive. The simulation has 500 iterations. You may add more, but this takes long enough already. Note
that the default frame rate, which is controlled by <strong>interval</strong>, is 1 second. I set it to 0.05
based to give a decent video.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="r"><span class="line">set.seed<span class="p">(</span><span class="m">42</span><span class="p">)</span>
</span><span class="line">game_grids <span class="o">&lt;-</span> game_of_life<span class="p">(</span>size <span class="o">=</span> <span class="m">50</span><span class="p">,</span> num_reps <span class="o">=</span> <span class="m">500</span><span class="p">,</span> prob <span class="o">=</span> c<span class="p">(</span><span class="m">0.1</span><span class="p">,</span> <span class="m">0.9</span><span class="p">))</span>
</span><span class="line">grid_ggplot <span class="o">&lt;-</span> lapply<span class="p">(</span>game_grids<span class="p">,</span> grid_to_ggplot<span class="p">)</span>
</span><span class="line">saveVideo<span class="p">(</span>lapply<span class="p">(</span>grid_ggplot<span class="p">,</span> print<span class="p">),</span> video.name <span class="o">=</span> <span class="s">&quot;animation.mp4&quot;</span><span class="p">,</span> clean <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> interval <span class="o">=</span> <span class="m">0.05</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>I uploaded the resulting video to YouTube for your viewing pleasure.</p>

<div class="embed-video-container"><iframe src="http://www.youtube.com/embed/TkH9qwHLwxk"></iframe></div>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/08/14/chapter-2-solutions-statistical-methods-in-bioinformatics/">Chapter 2 Solutions - Statistical Methods in Bioinformatics</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/14/textbook-statistical-methods-in-bioinformatics/">Textbook - Statistical Methods in Bioinformatics</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/11/now-that-we-live-in-seattle/">Now That We Live in Seattle</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/04/and-now-i-blog-again/">And Now I Blog Again</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/01/09/goals-for-2012/">Goals for 2012</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("ramhiser", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/ramhiser" class="twitter-follow-button" data-show-count="false">Follow @ramhiser</a>
  
</section>


<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/ramey">@ramey</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'ramey',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>My Pinboard</h1>
  <ul id="pinboard_linkroll">Fetching linkroll&#8230;</ul>
  <p><a href="http://pinboard.in/u:ramhiser">My Pinboard Bookmarks &raquo;</a></p>
</section>
<script type="text/javascript">
  var linkroll = 'pinboard_linkroll'; //id target for pinboard list
  var pinboard_user = "ramhiser"; //id target for pinboard list
  var pinboard_count = 3; //id target for pinboard list
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.type = 'text/javascript';
    pinboardInit.async = true;
    pinboardInit.src = '/javascripts/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
</script>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - John Ramey -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'johnramey';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
